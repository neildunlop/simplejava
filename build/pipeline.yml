---
#define the resources that are available as inputs to jobs.
resources:
#GitHub repository that holds all the code that makes up our application
  - name: git-repo
    type: git
    source:
      uri: {{github-uri}}
      branch: {{github-branch}}


#The things that we want our concourse server to do.
jobs:
  - name: unit-test
    public: true
    plan:
      - get: git-repo
        trigger: true
      - task: unit
        file: git-repo/build/tasks/task-unit-test.yml
        params: &MAVENPARAMS
          MAVEN_OPTS: {{maven-opts}}
          MAVEN_CONFIG: {{maven-config}}