---
platform: linux

image_resource:
  type: docker-image
  source:
    repository: andreptb/maven
    tag: 'latest'

params:
  MAVEN_OPTS:
  MAVEN_CONFIG:

inputs:
  - name: git-repo
  - name: version

outputs:
  - name: build

run:
  path: git-repo/build/tasks/task-build.sh
  args: [
    --input-dir, git-repo,
    --output-dir, build,
    --version-file, version/number,
    --artifactId, simplejava,
    --packaging, jar
  ]